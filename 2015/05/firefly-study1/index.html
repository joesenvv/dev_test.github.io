<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Firefly 学习(一) | wudaijun's blog</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Firefly 学习(一)</h1><a id="logo" href="/.">wudaijun's blog</a><p class="description">Coding is Funny</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="请输入关键字..."></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Firefly 学习(一)</h1><div class="post-meta"><a href="/2015/05/firefly-study1/#comments" class="comment-count"><i data-disqus-identifier="2015/05/firefly-study1/" class="disqus-comment-count"></i>留言</a><p><span class="date">May 20, 2015</span><span><a href="/categories/gameserver/" class="category">gameserver</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h2 id="一-简介"><a href="#一-简介" class="headerlink" title="一. 简介"></a>一. 简介</h2><p>firefly是一款python开发的开源游戏服务器框架，基于分布式，底层使用twisted。</p>
<a id="more"></a>
<p>具体介绍可参见：</p>
<ul>
<li><a href="firefly_on_git">firefly on github</a></li>
<li><a href="firefly_9miao">firefly官网</a></li>
<li><a href="firefly_doc">firefly官方Wiki</a></li>
</ul>
<p>firefly采用多进程方案，节点之间通过网络通信(当然你也可以创建单节点，独立完成大部分功能)，具有很好的可扩展性。</p>
<h2 id="二-使用"><a href="#二-使用" class="headerlink" title="二. 使用"></a>二. 使用</h2><p>作为一个Python初学者，下面只谈一些自己对firefly的一些肤浅认识。上面的途径可以获取到更完整和深入的资料。</p>
<p>下面的Demo的源代码可在<a href="demo_github">我的Github</a>上下载。</p>
<h3 id="1-流程"><a href="#1-流程" class="headerlink" title="1. 流程"></a>1. 流程</h3><p>总体上看，如果你要使用firefly，所需要做的事就是：</p>
<ul>
<li>通过配置文件定义所有节点，节点配置，节点实现文件，以及节点和节点之间的联系(通过网络端口)</li>
<li>定义节点实现文件</li>
<li>启动主节点</li>
</ul>
<p>firefly通过配置文件来设定你的分布式服务器，然后你只需创建和启动master节点，master服务器会启动配置文件中的各个子节点：</p>
<pre><code>if __name__==&quot;__main__&quot;:
    from firefly.master.master import Master
    master = Master()
    master.config(&#39;config.json&#39;,&#39;appmain.py&#39;)
    master.start()
</code></pre><p>config.json定义你的分布式服务，appmain.py是你的子节点公共入口，master节点已在master.start()中启动。</p>
<h3 id="2-配置文件"><a href="#2-配置文件" class="headerlink" title="2. 配置文件"></a>2. 配置文件</h3><p>下面是一份 config.json 实例，该配置文件配置了一个无盘节点，即没有使用数据库:</p>
<pre><code>{
&quot;master&quot;:{&quot;rootport&quot;:9999,&quot;webport&quot;:9998},
&quot;servers&quot;:{
    &quot;gate&quot;:{&quot;name&quot;:&quot;gate&quot;, &quot;rootport&quot;:10000, &quot;app&quot;:&quot;app.gateserver&quot;},
    &quot;net&quot;:{&quot;name&quot;:&quot;net&quot;, &quot;netport&quot;:10001, &quot;name&quot;:&quot;net&quot;, &quot;remoteport&quot;:[{&quot;rootport&quot;:10000, &quot;rootname&quot;:&quot;gate&quot;}], &quot;app&quot;:&quot;app.netserver&quot;},
    &quot;game1&quot;:{&quot;name&quot;:&quot;game1&quot;, &quot;remoteport&quot;:[{&quot;rootport&quot;:10000, &quot;rootname&quot;:&quot;gate&quot;}], &quot;app&quot;:&quot;app.game1server&quot;}
}
}
</code></pre><p>通过配置文件已经能够很清楚地看懂该服务器的整个分布式情况：</p>
<p><img src="/assets/image/firefly_nodes.png" alt="" title="firefly的分布式节点"></p>
<h4 id="master节点"><a href="#master节点" class="headerlink" title="master节点"></a>master节点</h4><p>master节点管理所有的节点，它有两个端口rootport和webport，顾名思义，rootport用于和和服务器中其它节点通信，webport用于后台管理，如关闭和重启所有子节点。调用master.start()后，框架会自动创建master节点并监听rootport和webport端口，后者通过<a href="flask">Flask</a>实现。</p>
<h4 id="分布式节点"><a href="#分布式节点" class="headerlink" title="分布式节点"></a>分布式节点</h4><p>如果将master节点称为整个服务器的根节点，那么servers中定义的节点即为分布式节点，样例config中定义了四个分布式节点，gate, dbfront, net, game1。每个节点都可以定义自己的父节点(通过remoteport，可有多个父节点)，并且关联节点的实现文件(位于config所在目录 app/*.py)。其中gate是net和game1的父节点，意味着如果有网络消息需要game1节点处理，那么消息将由net-&gt;gate-&gt;game1，同理消息响应途径为：game1-&gt;gate-&gt;net。</p>
<h3 id="3-公共入口"><a href="#3-公共入口" class="headerlink" title="3. 公共入口"></a>3. 公共入口</h3><p>appmain是我们定义的节点公共入口，它会由firefly通过<code>python appmain.py 节点名 配置路径</code>调用，节点名即为gate, dbfront, net, game1之一，配置路径即为 config.json。该入口允许我们对各分布式节点做一些预先特殊处理，在Demo的appmain.py中，仅仅是读取必须配置，通过一个firefly导出的统一节点类来启动节点:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">#coding:utf8</div><div class="line">&quot;&quot;&quot;</div><div class="line">本模块在启动master时作为参数传入</div><div class="line">firefly会在每个Server(除了master)启动时都调用该模块:</div><div class="line">    cmds = &apos;python %s %s %s&apos;%(self.mainpath, sername, self.configpath) [位于master/master.py, 其中self.mainpath即为本模块] </div><div class="line">&quot;&quot;&quot;</div><div class="line">import os</div><div class="line">import json, sys</div><div class="line">from firefly.server.server import FFServer</div><div class="line"></div><div class="line">if __name__ == &apos;__main__&apos;:</div><div class="line">    args = sys.argv</div><div class="line">    servername = None</div><div class="line">    config = None</div><div class="line">    if len(args) &gt; 2:</div><div class="line">        servername = servername = args[1]</div><div class="line">        config = json.load(open(args[2], &apos;r&apos;))</div><div class="line">    else:</div><div class="line">        raise ValueError</div><div class="line"></div><div class="line">    dbconf = config.get(&apos;db&apos;, &#123;&#125;)</div><div class="line">    memconf = config.get(&apos;memcached&apos;, &#123;&#125;)</div><div class="line">    servsconf = config.get(&apos;servers&apos;, &#123;&#125;)</div><div class="line">    masterconf = config.get(&apos;master&apos;,&#123;&#125;)</div><div class="line">    serverconf = servsconf.get(servername)</div><div class="line">    server = FFServer()</div><div class="line">    server.config(serverconf, dbconfig=dbconf, memconfig=memconf, masterconf=masterconf)</div><div class="line">    print servername, &apos;start&apos;</div><div class="line">    server.start()</div><div class="line">    print servername, &apos;stop&apos;</div></pre></td></tr></table></figure>
<p>appmain.py通过firefly的FFServer来启动节点，这里先不管FFServer如何区分各个节点。至此，我们的分布式服务器就算是启动了。</p>
<h3 id="4-节点实现"><a href="#4-节点实现" class="headerlink" title="4. 节点实现"></a>4. 节点实现</h3><p>最后需要我们关心的，就是节点实现了，不用多说，FFServer会根据你传入的节点实现文件，来实现节点的功能。而实际上我们需要做的事情是很少的，因为启动服务器，监听端口，节点间通信，甚至网络消息编解码等等这些功能，FFServer都帮你做了，后面会提到它如何区分和实现这些功能。</p>
<p>而我们要做的，就是通过装饰器响应消息就OK了，并且节点之间的消息转发也很方便：</p>
<p><strong>netserver实现</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">#coding:utf8</div><div class="line"></div><div class="line">from firefly.server.globalobject import GlobalObject, netserviceHandle</div><div class="line"></div><div class="line">&quot;&quot;&quot;</div><div class="line">netservice 默认是 CommandService:</div><div class="line">    netservice = services.CommandService(&quot;netservice&quot;)  [位于server/server.py]</div><div class="line">    CommandService 的消息响应函数格式为: HandleName_CommandID(conn, data)</div><div class="line">    CommandService 会通过&apos;_&apos;解析出CommandID并注册HandleName_CommandId为其消息响应函数</div><div class="line">&quot;&quot;&quot;</div><div class="line"></div><div class="line">@netserviceHandle</div><div class="line">def netHandle_100(_conn, data):</div><div class="line">    print &quot;netHandle_100: &quot;, data</div><div class="line">    return &quot;netHandle_100 completed&quot;</div><div class="line"></div><div class="line">@netserviceHandle</div><div class="line">def netHandle_200(_conn, data):</div><div class="line">    print &quot;netHandle_200: &quot;, data, &quot;forward to gate&quot;</div><div class="line">    # 转发到 gateserver.gateHandle1</div><div class="line">    # 通过 GlobalObject().remote[父节点名]来得到父节点的远程调用对象</div><div class="line">    return GlobalObject().remote[&apos;gate&apos;].callRemote(&apos;gateHandle1&apos;, data)</div><div class="line"></div><div class="line">@netserviceHandle</div><div class="line">def netHandle_300(_conn, data):</div><div class="line">    print &quot;netHandle_300: &quot;, data, &quot;forward to gate&quot;</div><div class="line">    return GlobalObject().remote[&apos;gate&apos;].callRemote(&apos;gateHandle2&apos;, data)</div></pre></td></tr></table></figure>
<p><strong>gateserver实现</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">#coding:utf-8</div><div class="line"></div><div class="line">from firefly.server.globalobject import GlobalObject, rootserviceHandle</div><div class="line"></div><div class="line"></div><div class="line">@rootserviceHandle</div><div class="line">def gateHandle1(data):</div><div class="line">    print &quot;gateHandle: &quot;, data</div><div class="line">    return &quot;gateHandle Completed&quot;</div><div class="line"></div><div class="line">@rootserviceHandle</div><div class="line">def gateHandle2(data):</div><div class="line">    print &quot;gateHandle2: &quot;, data, &quot;forward to game1: &quot;</div><div class="line">    # 转发到 game1.game1Handle</div><div class="line">    # 通过 GlobalObject().root.callChild(节点名，节点函数，参数)远程调用孩子节点</div><div class="line">    return GlobalObject().root.callChild(&quot;game1&quot;, &quot;game1Handle&quot;, data)</div></pre></td></tr></table></figure>
<p><strong>game1server实现</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">from firefly.server.globalobject import GlobalObject, remoteserviceHandle</div><div class="line"></div><div class="line">@remoteserviceHandle(&quot;gate&quot;)</div><div class="line">def game1Handle(data):</div><div class="line">    print &quot;game1Handle: &quot;, data</div><div class="line">    return &quot;game1Handle completed&quot;</div></pre></td></tr></table></figure>
<p>运行Demo，启动测试客户端，得到结果:</p>
<p>Server端: </p>
<pre><code>[firefly.netconnect.protoc.LiberateFactory] Client 0 login in.[127.0.0.1,61752]
[LiberateProtocol,0,127.0.0.1] call method netHandle_100 on service[single]
[LiberateProtocol,0,127.0.0.1] netHandle_100:  msgdata
[LiberateProtocol,0,127.0.0.1] call method netHandle_200 on service[single]
[LiberateProtocol,0,127.0.0.1] netHandle_200:  msgdata forward to gate
[BilateralBroker,0,127.0.0.1] call method gateHandle1 on service[single]
[BilateralBroker,0,127.0.0.1] gateHandle:  msgdata
[LiberateProtocol,0,127.0.0.1] call method netHandle_300 on service[single]
[LiberateProtocol,0,127.0.0.1] netHandle_300:  msgdata forward to gate
[BilateralBroker,0,127.0.0.1] call method gateHandle2 on service[single]
[BilateralBroker,0,127.0.0.1] gateHandle2:  msgdata forward to game1:
[Broker,client] call method game1Handle on service[single]
[Broker,client] game1Handle:  msgdata
[LiberateProtocol,0,127.0.0.1] Client 0 login out.
</code></pre><p>Client端:</p>
<pre><code>----------------
send commandId: 100
netHandle_100 completed
----------------
send commandId: 200
gateHandle Completed
----------------
send commandId: 300
game1Handle completed
</code></pre><h3 id="6-总结"><a href="#6-总结" class="headerlink" title="6. 总结"></a>6. 总结</h3><p>看起来，使用firefly确实很简单，通过配置文件即可完成强大的分布式部署，节点之间的通信协议，节点间消息以及网络消息的编解码，甚至重连机制框架都已经帮你完成。你只需通过python装饰器，来实现自己的请求响应逻辑即可。</p>
<h2 id="三-实现原理"><a href="#三-实现原理" class="headerlink" title="三. 实现原理"></a>三. 实现原理</h2><p>简单梳理一下firefly内部替我们完成的事。</p>
<h3 id="1-master启动"><a href="#1-master启动" class="headerlink" title="1.master启动"></a>1.master启动</h3><p>在我们的app入口文件中，通过master.start()启动服务器，master.start()完成了:</p>
<ul>
<li>创建一个PBRoot 在rootport监听其它节点连接</li>
<li>创建一个Flask  在webport 监听管理员命令</li>
<li>遍历配置中的servers 通过<code>python appmain.py 节点名 配置文件</code>启动各个分布式节点，appmain.py由使用者编写和提供</li>
</ul>
<h3 id="2-FFServer"><a href="#2-FFServer" class="headerlink" title="2.FFServer"></a>2.FFServer</h3><p>在appmain.py中，通过FFServer来创建和启动一个节点，firefly FFServer抽象一个服务进程，前面曾提到过，由于所有非master节点都通过FFServer启动，那么FFServer如何区分各节点功能和通讯协议？ 答案很简单，FFServer检查节点各项配置，为各项配置创建对应的组件，其中比较重要的有:</p>
<ul>
<li>webport 代表该节点希望提供web服务，FFServer通过Flask启动一个简单的web server</li>
<li>rootport 代表该节点是一个父节点，创建并启动PBRoot类(master也有一个PBRoot成员)来监听其它节点的连接 </li>
<li>netport 代表该节点希望接收客户端网络数据，FFServer创建LiberateFactory并监听netport，LiberateFactory中包含对网络数据的解码</li>
<li>db 若该配置为true，FFServer会根据config中的db配置连接到DB</li>
<li>mem 若该配置为true，FFServer会根据config中的memcached配置连接到memchache</li>
<li>remoteport, FFServer为每个父节点创建RemoteObject，并保存remote[name] -&gt; RemoteObject 映射</li>
</ul>
<p>这样，一个节点可以灵活分配一个或多个职责，并且每份职责通过独立的类来处理内部逻辑和通信协议等。除此之外，FFServer还做了两件事：</p>
<ul>
<li>import 节点关联的实现文件，该实现文件通过装饰器可以导入消息回调函数。</li>
<li>连接master节点</li>
</ul>
<h3 id="3-待续"><a href="#3-待续" class="headerlink" title="3. 待续"></a>3. 待续</h3></div><div class="tags"><a href="/tags/firefly/">firefly</a><a href="/tags/python/">python</a></div><div class="post-share"></div><div class="post-nav"><a href="/2015/05/twisted/" class="pre">Twisted</a><a href="/2015/05/wordpress-setup/" class="next">WordPress搭建历程</a></div><div id="comments"><div id="disqus_thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一-简介"><span class="toc-text">一. 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二-使用"><span class="toc-text">二. 使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-流程"><span class="toc-text">1. 流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-配置文件"><span class="toc-text">2. 配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#master节点"><span class="toc-text">master节点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#分布式节点"><span class="toc-text">分布式节点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-公共入口"><span class="toc-text">3. 公共入口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-节点实现"><span class="toc-text">4. 节点实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-总结"><span class="toc-text">6. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三-实现原理"><span class="toc-text">三. 实现原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-master启动"><span class="toc-text">1.master启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-FFServer"><span class="toc-text">2.FFServer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-待续"><span class="toc-text">3. 待续</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/12/go-memory-model/">go-memory-model</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/gc-study/">常见GC算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/hexo-with-mathjax/">Hexo使用mathjax渲染公式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/docker-network/">docker 网络模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/ngs-battle/">探讨服务端回合制战斗系统</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/go-conetxt-usage/">用context库规范化Go的异步调用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/go-vs-erlang/">Go vs Erlang</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/erlang-lua-reconstruction/">Erlang+Lua的一次重构</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/lua-notes/">Lua 闭包 环境 包管理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/max-osx-ulimit/">Mac OS X下的资源限制</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/c-c/">c/c++</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/erlang/">erlang</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gameserver/">gameserver</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/go/">go</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/lua/">lua</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/network/">network</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/os/">os</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/system/">system</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tool/">tool</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/unity/">unity</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/other/" style="font-size: 15px;">other</a> <a href="/tags/ngserver/" style="font-size: 15px;">ngserver</a> <a href="/tags/lua/" style="font-size: 15px;">lua</a> <a href="/tags/skynet/" style="font-size: 15px;">skynet</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/erlang/" style="font-size: 15px;">erlang</a> <a href="/tags/tool/" style="font-size: 15px;">tool</a> <a href="/tags/firefly/" style="font-size: 15px;">firefly</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/kbengine/" style="font-size: 15px;">kbengine</a> <a href="/tags/distribution/" style="font-size: 15px;">distribution</a> <a href="/tags/unity/" style="font-size: 15px;">unity</a> <a href="/tags/tcp-ip/" style="font-size: 15px;">tcp/ip</a> <a href="/tags/c-c/" style="font-size: 15px;">c/c++</a> <a href="/tags/mongodb/" style="font-size: 15px;">mongodb</a> <a href="/tags/os/" style="font-size: 15px;">os</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/gameserver/" style="font-size: 15px;">gameserver</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/go/" style="font-size: 15px;">go</a> <a href="/tags/goa/" style="font-size: 15px;">goa</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/system/" style="font-size: 15px;">system</a> <a href="/tags/macosx/" style="font-size: 15px;">macosx</a> <a href="/tags/gc/" style="font-size: 15px;">gc</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">十一月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">十月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">wudaijun.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>var disqus_shortname = 'wudaijun';
var disqus_identifier = '2015/05/firefly-study1/';
var disqus_title = 'Firefly 学习(一)';
var disqus_url = 'http://wudaijun.com/2015/05/firefly-study1/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//wudaijun.disqus.com/count.js" async></script><script type="text/javascript" src="//wudaijun.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></body></html>